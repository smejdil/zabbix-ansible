<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>6.0</version>
    <date>2022-03-06T11:23:30Z</date>
    <groups>
        <group>
            <uuid>7df96b18c230490a9a0a9e2307226338</uuid>
            <name>Templates</name>
        </group>
    </groups>
    <templates>
        <template>
            <uuid>d13d26c6bc4a4fe9a273c137c82d3575</uuid>
            <template>Template Battlemetrics</template>
            <name>Template Battlemetrics</name>
            <description># Example
https://www.battlemetrics.com/servers/valheim/14159400?playerCount=7D

# JSON output
https://api.battlemetrics.com/servers/14159400

# Web Tools
http://json.parser.online.fr

https://jsonpath.com

https://regex101.com</description>
            <groups>
                <group>
                    <name>Templates</name>
                </group>
            </groups>
            <items>
                <item>
                    <uuid>5359c3be0be7486d994a1234397558ec</uuid>
                    <name>Battlemetrics: Get status</name>
                    <type>HTTP_AGENT</type>
                    <key>battlemetrics_get_status</key>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <url>{$BM.API.SCHEME}://{$BM.HOST}/servers/{$BM.ID}</url>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Zabbix raw items</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3d3cbacc8a5c4bdc85f4692201649ce7</uuid>
                    <name>Battlemetrics: country</name>
                    <type>DEPENDENT</type>
                    <key>bm_country</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.country</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>2d3d32ea8fde4554910aaf76dc5c364f</uuid>
                    <name>Battlemetrics: id</name>
                    <type>DEPENDENT</type>
                    <key>bm_id</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.id</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>6ca5b4c5c1fb406c8dc093296a7dc4e1</uuid>
                    <name>Battlemetrics: ip</name>
                    <type>DEPENDENT</type>
                    <key>bm_ip</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.ip</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>43a20a62883841b9ba02cc2ff533b1f8</uuid>
                    <name>Battlemetrics: location</name>
                    <type>DEPENDENT</type>
                    <key>bm_location</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.location</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>87d1bb12b225413f8c6ce1b68e6faad2</uuid>
                    <name>Battlemetrics: location latitude</name>
                    <type>DEPENDENT</type>
                    <key>bm_location_latitude</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>LOCATION_LAT</inventory_link>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.location</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\w\d+.\d+),(\w\d+.\d+)</parameter>
                                <parameter>\2</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>c91ec127c11e45e7bab3a3ea668805ed</uuid>
                    <name>Battlemetrics: location longitude</name>
                    <type>DEPENDENT</type>
                    <key>bm_location_longitude</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <inventory_link>LOCATION_LON</inventory_link>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.location</parameter>
                            </parameters>
                        </step>
                        <step>
                            <type>REGEX</type>
                            <parameters>
                                <parameter>(\w\d+.\d+),(\w\d+.\d+)</parameter>
                                <parameter>\1</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>0ec8e019bb2e4ff09895d7c945c8a4e9</uuid>
                    <name>Battlemetrics: maxPlayers</name>
                    <type>DEPENDENT</type>
                    <key>bm_maxplayers</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.maxPlayers</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>3b58ab9b2df84b9586670db854a5a6bc</uuid>
                    <name>Battlemetrics: name</name>
                    <type>DEPENDENT</type>
                    <key>bm_name</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.name</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>80281dfb2e61480484d268c7c9b00dac</uuid>
                    <name>Battlemetrics: players</name>
                    <type>DEPENDENT</type>
                    <key>bm_players</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.players</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>ffd32ffc3d6f4d28ba16135772674f07</uuid>
                    <name>Battlemetrics: port</name>
                    <type>DEPENDENT</type>
                    <key>bm_port</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.port</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>7eaa0f394bf54c30a55f3fafcbe21f6e</uuid>
                    <name>Battlemetrics: rank</name>
                    <type>DEPENDENT</type>
                    <key>bm_rank</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.rank</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9f61557f8be14f538da4c07afdea1941</uuid>
                    <name>Battlemetrics: serverSteamId</name>
                    <type>DEPENDENT</type>
                    <key>bm_serversteamid</key>
                    <delay>0</delay>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.details.serverSteamId</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>039dc0ce454d472b80ce9eeee21658ca</uuid>
                    <name>Battlemetrics: status</name>
                    <type>DEPENDENT</type>
                    <key>bm_status</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.attributes.status</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
                <item>
                    <uuid>9aa1575bd5e3416d92b344f6d29a3b7e</uuid>
                    <name>Battlemetrics: type</name>
                    <type>DEPENDENT</type>
                    <key>bm_type</key>
                    <delay>0</delay>
                    <trends>0</trends>
                    <value_type>CHAR</value_type>
                    <preprocessing>
                        <step>
                            <type>JSONPATH</type>
                            <parameters>
                                <parameter>$.data.type</parameter>
                            </parameters>
                        </step>
                    </preprocessing>
                    <master_item>
                        <key>battlemetrics_get_status</key>
                    </master_item>
                    <tags>
                        <tag>
                            <tag>Application</tag>
                            <value>Battlemetrics</value>
                        </tag>
                    </tags>
                </item>
            </items>
            <macros>
                <macro>
                    <macro>{$BM.API.SCHEME}</macro>
                    <value>https</value>
                </macro>
                <macro>
                    <macro>{$BM.HOST}</macro>
                    <value>api.battlemetrics.com</value>
                </macro>
                <macro>
                    <macro>{$BM.ID}</macro>
                    <value>14159400</value>
                </macro>
            </macros>
        </template>
    </templates>
    <graphs>
        <graph>
            <uuid>b3716bed2bba4a4281c84f3f87accda3</uuid>
            <name>Battlemetrics players</name>
            <graph_items>
                <graph_item>
                    <drawtype>GRADIENT_LINE</drawtype>
                    <color>0040FF</color>
                    <item>
                        <host>Template Battlemetrics</host>
                        <key>bm_players</key>
                    </item>
                </graph_item>
            </graph_items>
        </graph>
    </graphs>
</zabbix_export>
